<!DOCTYPE html>
<html>
<head>
    <title>ğŸ“Š /vibe Streak Analytics Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0; padding: 20px; 
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh; color: white;
        }
        .dashboard { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; }
        .metrics-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; margin-bottom: 30px; 
        }
        .metric-card { 
            background: rgba(255,255,255,0.1); 
            padding: 25px; 
            border-radius: 15px;
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
        }
        .metric-value { font-size: 2.5em; font-weight: bold; margin: 10px 0; }
        .metric-label { opacity: 0.8; font-size: 0.9em; }
        .charts-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        .chart-container { 
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 15px;
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255,255,255,0.2);
        }
        .leaderboard { 
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 15px;
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255,255,255,0.2);
        }
        .leaderboard-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px; 
            margin: 10px 0; 
            background: rgba(255,255,255,0.1); 
            border-radius: 10px;
        }
        .user-info { display: flex; align-items: center; }
        .rank { 
            font-size: 1.2em; 
            font-weight: bold; 
            margin-right: 15px; 
            color: #ffd700;
        }
        .user-name { font-weight: bold; }
        .streak-info { text-align: right; }
        .current-streak { font-size: 1.1em; color: #4CAF50; }
        .best-streak { font-size: 0.9em; opacity: 0.8; }
        .insights { 
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 15px;
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255,255,255,0.2);
            margin-top: 20px;
        }
        .insight-item { 
            padding: 10px; 
            margin: 8px 0; 
            background: rgba(255,255,255,0.1); 
            border-radius: 8px;
            border-left: 3px solid #4CAF50;
        }
        .refresh-info { 
            text-align: center; 
            margin-top: 30px; 
            opacity: 0.7; 
            font-size: 0.9em; 
        }
        @media (max-width: 768px) {
            .charts-grid { grid-template-columns: 1fr; }
            .metrics-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>ğŸ“Š /vibe Streak Analytics Dashboard</h1>
            <p>Real-time insights into workshop consistency and engagement patterns</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value" id="total-users">2</div>
                <div class="metric-label">ğŸ‘¥ Active Users</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="total-streak-days">2</div>
                <div class="metric-label">ğŸ”¥ Total Streak Days</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="avg-streak">1.0</div>
                <div class="metric-label">ğŸ“ˆ Average Streak</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="retention-rate">100%</div>
                <div class="metric-label">ğŸ’ª Retention Rate</div>
            </div>
        </div>
        
        <div class="charts-grid">
            <div class="chart-container">
                <h3>ğŸ“ˆ Streak Trends (7 Days)</h3>
                <canvas id="trendChart" width="400" height="200"></canvas>
            </div>
            <div class="chart-container">
                <h3>ğŸ¯ Streak Distribution</h3>
                <canvas id="distributionChart" width="400" height="200"></canvas>
            </div>
        </div>
        
        <div class="leaderboard">
            <h3>ğŸ† Streak Leaderboard</h3>
            <div class="leaderboard-item">
                <div class="user-info">
                    <div class="rank">#1</div>
                    <div class="user-name">@demo_user</div>
                </div>
                <div class="streak-info">
                    <div class="current-streak">ğŸ”¥ 1 days</div>
                    <div class="best-streak">Best: 1 days</div>
                </div>
            </div>
            <div class="leaderboard-item">
                <div class="user-info">
                    <div class="rank">#1</div>
                    <div class="user-name">@vibe_champion</div>
                </div>
                <div class="streak-info">
                    <div class="current-streak">ğŸ”¥ 1 days</div>
                    <div class="best-streak">Best: 1 days</div>
                </div>
            </div>
        </div>
        
        <div class="insights">
            <h3>ğŸ§  AI Insights & Recommendations</h3>
            <div class="insight-item">
                <strong>ğŸŒ± Early Stage Community:</strong> Both users are in their first day of streak building. This is the critical retention period where encouragement matters most.
            </div>
            <div class="insight-item">
                <strong>ğŸ¯ Next Milestone:</strong> Both users will reach "Early Bird ğŸŒ…" status at 3 days. Consider preparing celebration messages.
            </div>
            <div class="insight-item">
                <strong>ğŸ“Š Engagement Pattern:</strong> Perfect 100% retention so far. Focus on Day 2 motivation to maintain this momentum.
            </div>
            <div class="insight-item">
                <strong>ğŸš€ Growth Opportunity:</strong> Achievement system is primed for expansion. Consider adding badges for participation, games, or community building.
            </div>
        </div>
        
        <div class="refresh-info">
            <p>ğŸ“Š Dashboard auto-updates every 30 seconds | ğŸ¤– Built by @streaks-agent<br>
            Last updated: <span id="last-updated"></span></p>
        </div>
    </div>

    <script>
        // Update timestamp
        document.getElementById('last-updated').textContent = new Date().toLocaleString();
        
        // Sample data - would connect to real streak data in production
        const streakData = {
            users: [
                { handle: "@demo_user", current: 1, best: 1 },
                { handle: "@vibe_champion", current: 1, best: 1 }
            ]
        };
        
        // Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['Day -6', 'Day -5', 'Day -4', 'Day -3', 'Day -2', 'Day -1', 'Today'],
                datasets: [{
                    label: 'Active Streaks',
                    data: [0, 0, 0, 0, 0, 0, 2],
                    borderColor: '#4CAF50',
                    backgroundColor: 'rgba(76, 175, 80, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { labels: { color: 'white' } } },
                scales: {
                    x: { ticks: { color: 'white' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                    y: { ticks: { color: 'white' }, grid: { color: 'rgba(255,255,255,0.1)' } }
                }
            }
        });
        
        // Distribution Chart
        const distCtx = document.getElementById('distributionChart').getContext('2d');
        new Chart(distCtx, {
            type: 'doughnut',
            data: {
                labels: ['1 Day Streaks', '2-3 Days', '4-7 Days', '1+ Weeks'],
                datasets: [{
                    data: [2, 0, 0, 0],
                    backgroundColor: ['#4CAF50', '#2196F3', '#FF9800', '#9C27B0']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { labels: { color: 'white' } }
                }
            }
        });
        
        // Auto-refresh every 30 seconds
        setTimeout(() => { location.reload(); }, 30000);
        
        // Dynamic metric updates (would connect to real-time data)
        function updateMetrics() {
            const totalUsers = streakData.users.length;
            const totalStreakDays = streakData.users.reduce((sum, user) => sum + user.current, 0);
            const avgStreak = (totalStreakDays / totalUsers).toFixed(1);
            const retentionRate = '100%'; // Early stage, everyone retained
            
            document.getElementById('total-users').textContent = totalUsers;
            document.getElementById('total-streak-days').textContent = totalStreakDays;
            document.getElementById('avg-streak').textContent = avgStreak;
            document.getElementById('retention-rate').textContent = retentionRate;
        }
        
        updateMetrics();
    </script>
</body>
</html>